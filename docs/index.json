[
  {
    "__docId__": 1,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Infinity",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 2,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~NaN",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 3,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~undefined",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 4,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~null",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 5,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 6,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 7,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 8,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 9,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 10,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 11,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Symbol",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 12,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Error",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 13,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~EvalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 14,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~InternalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 15,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~RangeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 16,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~ReferenceError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 17,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~SyntaxError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 18,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~TypeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 19,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~URIError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 20,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 21,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 22,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Date",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 23,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~String",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 24,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~string",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 25,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~RegExp",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 26,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 27,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Int8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 28,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Uint8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 29,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Uint8ClampedArray",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Int16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 31,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Uint16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 32,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Int32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 33,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Uint32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 34,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Float32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 35,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Float64Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 36,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 37,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Set",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 38,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~WeakMap",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 39,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~WeakSet",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 40,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~ArrayBuffer",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 41,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~DataView",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 42,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~JSON",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 43,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Promise",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 44,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Generator",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 45,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~GeneratorFunction",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 46,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Reflect",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 47,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "ugraphics/.external-ecmascript.js",
    "static": true,
    "longname": "ugraphics/.external-ecmascript.js~Proxy",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 48,
    "kind": "file",
    "name": "ugraphics/dashrouter.js",
    "content": "// Import the Express module\nimport Express from 'express';\nimport Shell from 'shelljs';\nimport _ from 'lodash';\nimport Path from 'path';\n\n/** The router that serves up the contents of dashboard tabs */\nlet router = Express.Router();\n\n// Serve Pug dashboard templates\nrouter.get('/templates/:id', (req, res) =>\n    res.render(`dash/templates/${req.params.id}`, {\n        Shell: Shell,\n        _: _,\n        Path: Path\n    }));\n\n// For all other requests to this router, just render the index template\nrouter.get('/*', (req, res) => res.render('dash/index'));\n\n// Export the router object as the default export of the module\nexport default router;\n",
    "static": true,
    "longname": "/Users/harry/Developer/Builds/ugraphics/dashrouter.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 49,
    "kind": "variable",
    "name": "router",
    "memberof": "ugraphics/dashrouter.js",
    "static": true,
    "longname": "ugraphics/dashrouter.js~router",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/dashrouter.js",
    "importStyle": "router",
    "description": "The router that serves up the contents of dashboard tabs",
    "lineNumber": 8,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 50,
    "kind": "file",
    "name": "ugraphics/server.js",
    "content": "// -----------------------------------------------------------------------------\n// - IMPORTS -------------------------------------------------------------------\n// -----------------------------------------------------------------------------\nconsole.log('Server entry point');\nimport Config from './config';\nimport { CWD as cwd, Debug as debug } from './shared';\n\n// Import modules from npm/node\nimport Path from 'path';\nimport HTTP from 'http';\nimport Express from 'express';\nimport Yargs from 'yargs';\nimport Winston from 'winston';\nimport SocketIOServer from 'socket.io';\nimport Moment from 'moment';\nimport _ from 'lodash';\nimport FS from 'fs';\nimport Vorpal from 'vorpal';\nimport 'pug'; // So that pkg works\n\n// Import config and modules from project\nimport DashRouter from './dashrouter';\nimport * as StylesheetMiddleware from './stylesheet';\nimport * as SocketHandler from './socketHandler';\n\n// -----------------------------------------------------------------------------\n// - SERVER OPTIONS ------------------------------------------------------------\n// -----------------------------------------------------------------------------\nconsole.log('Imports complete, configuring Winston');\nlet consoleTransport = new Winston.transports.Console({\n    format: Winston.format.combine(\n        Winston.format.colorize(),\n        Winston.format.printf(info => `${info.level}: ${info.message}`))\n});\nexport let logger = Winston.createLogger({\n    transports: [ consoleTransport ],\n    level: debug? 'silly' : 'info'\n});\n\nlogger.info(`Forge Graphics Server Gen3 (${Config.locals.product} - ${Config.locals.project})`)\nlogger.info(`Time of start: ${Moment().format('ddd DD MMM YYYY, HH:mm:ss ZZ')}`)\n\n// Parse command line options with Yargs, taking defaults from config.json\nlogger.silly(`Parsing command-line options`);\n/** The command-line arguments as read in with Yargs */\nlet argv = Yargs\n    .option('port', {\n        alias: 'p',\n        describe: 'Port to listen on',\n        type: 'number'\n    })\n    .default(Config.defaults)\n    .usage(`Forge Graphics Server (${Config.project})\\nUsage: $0 [-p port]`)\n    .help().alias('h', 'help')\n    .argv;\n\n// -----------------------------------------------------------------------------\n// - EXPRESS APP ---------------------------------------------------------------\n// -----------------------------------------------------------------------------\n// Create an Express app, using Pug as the view engine\nlogger.silly(`Configuring Express app`);\n/** The Express app powering the dashboard and character generator */\nexport let app = Express();\n/** The HTTP server that serves up {@link app} */\nexport let server = HTTP.createServer(app);\napp.set('view engine', 'pug');\napp.set('view options', { debug: false });\napp.locals = _.assign(Config.locals, { ugr_debug: debug });\n\n// Pass the app to functions that install middleware which processes SCSS\n// and Stylus stylesheets on-demand\nlogger.silly(`Configuring Stylus middleware`);\nStylesheetMiddleware.Styl(app);\n\n// -----------------------------------------------------------------------------\n// - SERVER --------------------------------------------------------------------\n// -----------------------------------------------------------------------------\n// Serve static directories\nlogger.silly(`Configuring server routes`);\nfor (let pub in Config.publicDirs)\n    app.use(`/${pub}`,\n        Express.static(Path.join(cwd, Config.publicDirs[pub])));\n\n// Use the dashboard router module to handle the dashboard view\napp.use(['/dash', '/dashboard'], DashRouter);\n\n// Render the character generator when / is accessed\napp.get('/', (req, res) => res.render('cg/index'));\n\n// Handle anything else by sending a 404 error page and a 404 status code\napp.get('*', (req, res) => res.status(404).render('404'));\n\n// -----------------------------------------------------------------------------\n// - SOCKET.IO REAL-TIME COMMS -------------------------------------------------\n// -----------------------------------------------------------------------------\nlogger.silly(`Configuring socket.io server`);\n/** The socket.io real-time communications server */\nexport let io = SocketIOServer(server, {\n    wsEngine: \"ws\"\n});\n\n// Start the Express app listening on the specified port\nserver.listen(argv.port, () => {\n    // Log some stuff\n    logger.info(`Listening on port ${argv.port}`);\n    logger.debug('Debug enabled');\n\n    // On any connection, handle it with the function defined in socketHandler.ts\n    io.on('connection', SocketHandler.handleSocket);\n\n    SocketHandler.setTick();\n});\n\n// -----------------------------------------------------------------------------\n// - VORPAL COMMAND-LINE INTERFACE ---------------------------------------------\n// -----------------------------------------------------------------------------\nlet vorpal = Vorpal();\n\nvorpal.command('show <store>')\n    .description('Show the contents of a module\\'s data store')\n    .alias('s')\n    .action((args, callback) => {\n        console.log(JSON.stringify(SocketHandler.dataStore[args.store] || 'Module not found' ));\n        callback();\n    });\n\nvorpal.delimiter('uGraphics>').show();\nconsoleTransport.on('logged', () => vorpal.ui.redraw.done());\n",
    "static": true,
    "longname": "/Users/harry/Developer/Builds/ugraphics/server.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 51,
    "kind": "variable",
    "name": "consoleTransport",
    "memberof": "ugraphics/server.js",
    "static": true,
    "longname": "ugraphics/server.js~consoleTransport",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 52,
    "kind": "variable",
    "name": "logger",
    "memberof": "ugraphics/server.js",
    "static": true,
    "longname": "ugraphics/server.js~logger",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/server.js",
    "importStyle": "{logger}",
    "description": null,
    "lineNumber": 35,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 53,
    "kind": "variable",
    "name": "argv",
    "memberof": "ugraphics/server.js",
    "static": true,
    "longname": "ugraphics/server.js~argv",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/server.js",
    "importStyle": null,
    "description": "The command-line arguments as read in with Yargs",
    "lineNumber": 46,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 54,
    "kind": "variable",
    "name": "app",
    "memberof": "ugraphics/server.js",
    "static": true,
    "longname": "ugraphics/server.js~app",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/server.js",
    "importStyle": "{app}",
    "description": "The Express app powering the dashboard and character generator",
    "lineNumber": 63,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 55,
    "kind": "variable",
    "name": "server",
    "memberof": "ugraphics/server.js",
    "static": true,
    "longname": "ugraphics/server.js~server",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/server.js",
    "importStyle": "{server}",
    "description": "The HTTP server that serves up {@link app}",
    "lineNumber": 65,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 56,
    "kind": "variable",
    "name": "io",
    "memberof": "ugraphics/server.js",
    "static": true,
    "longname": "ugraphics/server.js~io",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/server.js",
    "importStyle": "{io}",
    "description": "The socket.io real-time communications server",
    "lineNumber": 98,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 57,
    "kind": "variable",
    "name": "vorpal",
    "memberof": "ugraphics/server.js",
    "static": true,
    "longname": "ugraphics/server.js~vorpal",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 117,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 58,
    "kind": "file",
    "name": "ugraphics/shared.js",
    "content": "/**\n * Is the debug environment variable set? Used to set up some useful development things\n * @type {boolean}\n */\nlet Debug = process.env.UGR_ENV == 'debug';\n\n/**\n * The current working directory\n * @type {string}\n */\nlet CWD = process.cwd();\n\nexport { Debug, CWD };\n",
    "static": true,
    "longname": "/Users/harry/Developer/Builds/ugraphics/shared.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 59,
    "kind": "variable",
    "name": "Debug",
    "memberof": "ugraphics/shared.js",
    "static": true,
    "longname": "ugraphics/shared.js~Debug",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/shared.js",
    "importStyle": "{Debug}",
    "description": "Is the debug environment variable set? Used to set up some useful development things",
    "lineNumber": 5,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 60,
    "kind": "variable",
    "name": "CWD",
    "memberof": "ugraphics/shared.js",
    "static": true,
    "longname": "ugraphics/shared.js~CWD",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/shared.js",
    "importStyle": "{CWD}",
    "description": "The current working directory",
    "lineNumber": 11,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 61,
    "kind": "file",
    "name": "ugraphics/socketHandler.js",
    "content": "import { logger, io } from './server';\nimport FS from 'fs';\nimport _ from 'lodash';\nimport Config from './config';\n\n/**\n * The central/master sync data store for all of the components\n * @type {Object}\n */\nexport let dataStore = {};\nfor (let socket of Config.sockets)\n    dataStore[socket] = Config.initDataStore[socket] || {};\n\n/**\n * Emits a sync state for the named component\n * @param {string} socketName The name of the component\n * @param {Object} [delta] If present, will emit only this as a delta object\n */\nexport let emitSynf = (socketName, delta) => {\n    // Emit it over socket\n    io.emit(`${socketName}:synf`, delta || dataStore[socketName]);\n\n    // Log it\n    logger.debug(`Emitted ${socketName}:synf: ${delta? '(delta) ' + JSON.stringify(delta) : JSON.stringify(dataStore[socketName])}`);\n};\n\n/**\n * Emits a trigger message for the named component\n * @param {string} socketName The name of the component\n * @param {Object} msg The object to emit as accompanying data\n */\nexport let emitTrigger = (socketName, msg) => {\n    // Emit it over socket\n    io.emit(`${socketName}:trigger`, msg);\n\n    // Log it\n    logger.debug(`Emitted ${socketName}:trigger: ${JSON.stringify(msg)}`);\n};\n\n/** Sets up a sixty-second tick interval to keep the system in sync */\nexport let setTick = () => {\n    // Every n seconds, emit a sync event for each socket\n    setInterval(() => {\n        logger.verbose('Tick');\n        for (let socketName of Config.sockets) emitSynf(socketName);\n    }, 60000);\n};\n\n/**\n * Called whenever a socket needs to be handled\n * @param {socket} socket The socket that needs to be handled\n */\nexport let handleSocket = socket => {\n    // Get the IP address that's connecting and log it\n    let address = socket.request.connection.remoteAddress;\n    logger.verbose(`Connection from ${address}`);\n    \n    // For each socket defined in config.json, set a method to handle it\n    for (let socketName of Config.sockets) {\n        // When a sync message is received...\n        socket.on(`${socketName}:sync`, msg => {\n            // Log it\n            logger.debug(`Sync on ${socketName}:sync: ${JSON.stringify(msg)}`);\n\n            // Assign the received message into the respective data store\n            _.assign(dataStore[socketName], msg);\n\n            // Emit it again on the same socket so other clients can pick it up\n            emitSynf(socketName, msg);\n        });\n\n        // When a get message is received...\n        socket.on(`${socketName}:get`, () => {\n            // Log it\n            logger.debug(`Get  on ${socketName}:get`);\n\n            // Emit the relevant state from the data store again\n            emitSynf(socketName);\n        });\n\n        // When a trigger message is received...\n        socket.on(`${socketName}:trigger`, msg => {\n            // Log it\n            logger.debug(`Trig on ${socketName}:trigger: ${msg.id}, ${msg.data}`);\n\n            // Pass it on\n            emitTrigger(socketName, msg);\n        });\n    }\n};\n",
    "static": true,
    "longname": "/Users/harry/Developer/Builds/ugraphics/socketHandler.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 62,
    "kind": "variable",
    "name": "dataStore",
    "memberof": "ugraphics/socketHandler.js",
    "static": true,
    "longname": "ugraphics/socketHandler.js~dataStore",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/socketHandler.js",
    "importStyle": "{dataStore}",
    "description": "The central/master sync data store for all of the components",
    "lineNumber": 10,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 63,
    "kind": "function",
    "name": "emitSynf",
    "memberof": "ugraphics/socketHandler.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "ugraphics/socketHandler.js~emitSynf",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/socketHandler.js",
    "importStyle": "{emitSynf}",
    "description": "Emits a sync state for the named component",
    "lineNumber": 19,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "socketName",
        "description": "The name of the component"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "delta",
        "description": "If present, will emit only this as a delta object"
      }
    ],
    "return": null
  },
  {
    "__docId__": 64,
    "kind": "function",
    "name": "emitTrigger",
    "memberof": "ugraphics/socketHandler.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "ugraphics/socketHandler.js~emitTrigger",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/socketHandler.js",
    "importStyle": "{emitTrigger}",
    "description": "Emits a trigger message for the named component",
    "lineNumber": 32,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "socketName",
        "description": "The name of the component"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "msg",
        "description": "The object to emit as accompanying data"
      }
    ],
    "return": null
  },
  {
    "__docId__": 65,
    "kind": "function",
    "name": "setTick",
    "memberof": "ugraphics/socketHandler.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "ugraphics/socketHandler.js~setTick",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/socketHandler.js",
    "importStyle": "{setTick}",
    "description": "Sets up a sixty-second tick interval to keep the system in sync",
    "lineNumber": 41,
    "params": [],
    "return": null
  },
  {
    "__docId__": 66,
    "kind": "function",
    "name": "handleSocket",
    "memberof": "ugraphics/socketHandler.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "ugraphics/socketHandler.js~handleSocket",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/socketHandler.js",
    "importStyle": "{handleSocket}",
    "description": "Called whenever a socket needs to be handled",
    "lineNumber": 53,
    "params": [
      {
        "nullable": null,
        "types": [
          "socket"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": "The socket that needs to be handled"
      }
    ],
    "return": null
  },
  {
    "__docId__": 67,
    "kind": "file",
    "name": "ugraphics/src/js/cg/cg.js",
    "content": "// -----------------------------------\n// - Character generator entry point\n// -----------------------------------\n\n// Package imports\nimport SocketIO from 'socket.io-client';\nimport Rivets from 'rivets';\n\n// Custom module imports\nimport BugCtrl from './controllers/bug';\nimport LowerThirdsCtrl from './controllers/lowerThirds';\n\nimport Clock from './modules/clock';\n\nconsole.log('cg: begin');\n\n// Hide all elements with an fg-show attribute to begin with\nconsole.log(`cg: hiding all [fg-show] elements`);\n$('[fg-show]').each((i, v) => $(v).hide());\n\n/** A store of controller objects */\nlet controllers = {\n    bug: BugCtrl,\n    lowerThirds: LowerThirdsCtrl\n};\n\n/** A store of binding objects */\nlet bindings = {};\n\n/** A list of module functions */\nlet modules = [\n    Clock\n];\n\n// Bind all the controllers\nfor (let id in controllers) {\n    console.log(`cg: setting binding for id ${id} to new controller for ${id}`);\n    bindings[id] = new controllers[id](id);\n}\n\n// Connect to sockets\nconsole.log('cg: connecting socket.io');\n/** The socket.io client */\nlet io = SocketIO.connect();\n\n// Really dumb way to do modules\nfor (let module of modules) module();\n\n// When the document is ready ($()), show the body element,\n// which is hidden in CSS\n$(() => {\n    console.log('cg: document ready, showing body');\n    $('body').show();\n});\n\n// When a maintenance trigger message is received...\nio.on('maintenance:trigger', msg => {\n    // Log it to the console\n    console.log(`received maintenance:trigger, ${msg}`);\n\n    // A switch for all of the possible trigger messages\n    switch(msg.id) {\n        case 'reset':\n            // Reset message: reload the page\n            location.reload();\n            break;\n        default:\n            // Otherwise, do nothing\n            break;\n    }\n});\n",
    "static": true,
    "longname": "/Users/harry/Developer/Builds/ugraphics/src/js/cg/cg.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 68,
    "kind": "variable",
    "name": "controllers",
    "memberof": "ugraphics/src/js/cg/cg.js",
    "static": true,
    "longname": "ugraphics/src/js/cg/cg.js~controllers",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/cg/cg.js",
    "importStyle": null,
    "description": "A store of controller objects",
    "lineNumber": 22,
    "type": {
      "types": [
        "{\"bug\": *, \"lowerThirds\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 69,
    "kind": "variable",
    "name": "bindings",
    "memberof": "ugraphics/src/js/cg/cg.js",
    "static": true,
    "longname": "ugraphics/src/js/cg/cg.js~bindings",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/cg/cg.js",
    "importStyle": null,
    "description": "A store of binding objects",
    "lineNumber": 28,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 70,
    "kind": "variable",
    "name": "modules",
    "memberof": "ugraphics/src/js/cg/cg.js",
    "static": true,
    "longname": "ugraphics/src/js/cg/cg.js~modules",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/cg/cg.js",
    "importStyle": null,
    "description": "A list of module functions",
    "lineNumber": 31,
    "type": {
      "types": [
        "undefined[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 71,
    "kind": "variable",
    "name": "io",
    "memberof": "ugraphics/src/js/cg/cg.js",
    "static": true,
    "longname": "ugraphics/src/js/cg/cg.js~io",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/cg/cg.js",
    "importStyle": null,
    "description": "The socket.io client",
    "lineNumber": 44,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 72,
    "kind": "file",
    "name": "ugraphics/src/js/cg/cgAnimate.js",
    "content": "import $ from 'jquery';\nimport Velocity from 'velocity';\n\n// TODO: automate animation of child elements\n\n/** Acceptable fg-properties for animations and their default values */\nlet propDescriptor = {\n    opacity: 1,\n    duration: 400,\n    easing: 'swing',\n    translateX: '200px',\n    delay: 0\n};\n\n/**\n * Get properties from an element \n * @param {element} v The element to get properties from \n */\nlet getProps = v => {\n    let props = {};\n    for (let prop in propDescriptor) {\n        props[prop] = v.attr(`fg-${prop}`) || propDescriptor[prop];\n        props[`${prop}-in`] = v.attr(`fg-${prop}-in`) || props[prop];\n        props[`${prop}-out`] = v.attr(`fs-${prop}-out`) || props[out];\n    }\n    console.log(`animate: the pre-program props (classic) are ${JSON.stringify(props)}`);\n    return props;\n};\n\n/**\n * Gets animation properties for an element, given the element and whether it's animating in or out\n * @param {element} v The element\n * @param {boolean} show The element will show (if false, will hide)\n */\nlet getPropsInOut = (v, show) => {\n    let props = {};\n    for (let prop in propDescriptor)\n        props[prop] = v.attr(`fg-${prop}`) || v.attr(`fg-${prop}-${show? 'in' : 'out'}`) || propDescriptor[prop];\n    console.log(`animate: the pre-program props (inOut, show ${show}) are ${JSON.stringify(props)}`);\n    return props;\n};\n\n// TODO: rename animation program functions so that they have a clear naming pattern\n\n/** Animation program: fade */\nlet apr_fade = (v, show) => {\n    console.log(`animate: fading (${show})`);\n    let p = getPropsInOut(v, show);\n    v.velocity({\n        opacity: show? p.opacity : 0\n    }, {\n        easing: 'linear',\n        duration: p.duration,\n        delay: p.delay\n    });\n};\n\n/**\n * Animation program: slide from left\n */\nlet apr_slide_x = (v, show) => {\n    console.log(`animate: sliding x (${show})`);\n    let p = getPropsInOut(v, show);\n    let easingType = 'Cubic'\n    v.velocity({\n        opacity: show? p.opacity : 0,\n        translate: show? \"0px\" : `${p.translateX}`\n    }, {\n        easing: show? `easeOut${easingType}` : `easeIn${easingType}`,\n        duration: p.duration,\n        delay: p.delay\n    });\n};\n\n/**\n * Animate an element according to its properties\n * @param {element} element The element\n * @param {boolean} show The element will show (if false, will hide)\n */\nexport default (element, show) => {\n    console.log(`animate: ${element} (${show})`);\n    // Get a jQuery object for the element\n    let elem = $(element);\n\n    // Get the fg-anim animation program for each element, or 'none' if there is\n    // no fg-anim attribute\n    let animationProgram = '';\n    let animInAttr = elem.attr('fg-anim-in');\n    let animOutAttr = elem.attr('fg-anim-out');\n\n    if (show && animInAttr) animationProgram = animInAttr;\n    else if (!show && animOutAttr) animationProgram = animOutAttr;\n    else animationProgram = elem.attr('fg-anim') || 'none';\n    console.log(`animate: the animation program is ${animationProgram}`);\n\n    // Make sure the element is actually visible\n    elem.show();\n\n    // A switch for the animation program\n    switch (animationProgram) {\n        case 'fade':\n            apr_fade(elem, show);\n            break;\n        case 'slide-x':\n            apr_slide_x(elem, show);\n            break;\n        case 'none':\n        default:\n            elem.toggle(show);\n            break;\n    }\n}\n",
    "static": true,
    "longname": "/Users/harry/Developer/Builds/ugraphics/src/js/cg/cgAnimate.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 73,
    "kind": "variable",
    "name": "propDescriptor",
    "memberof": "ugraphics/src/js/cg/cgAnimate.js",
    "static": true,
    "longname": "ugraphics/src/js/cg/cgAnimate.js~propDescriptor",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/cg/cgAnimate.js",
    "importStyle": null,
    "description": "Acceptable fg-properties for animations and their default values",
    "lineNumber": 7,
    "type": {
      "types": [
        "{\"opacity\": number, \"duration\": number, \"easing\": string, \"translateX\": string, \"delay\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 74,
    "kind": "function",
    "name": "getProps",
    "memberof": "ugraphics/src/js/cg/cgAnimate.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "ugraphics/src/js/cg/cgAnimate.js~getProps",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/cg/cgAnimate.js",
    "importStyle": null,
    "description": "Get properties from an element ",
    "lineNumber": 19,
    "params": [
      {
        "nullable": null,
        "types": [
          "element"
        ],
        "spread": false,
        "optional": false,
        "name": "v",
        "description": "The element to get properties from"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 75,
    "kind": "function",
    "name": "getPropsInOut",
    "memberof": "ugraphics/src/js/cg/cgAnimate.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "ugraphics/src/js/cg/cgAnimate.js~getPropsInOut",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/cg/cgAnimate.js",
    "importStyle": null,
    "description": "Gets animation properties for an element, given the element and whether it's animating in or out",
    "lineNumber": 35,
    "params": [
      {
        "nullable": null,
        "types": [
          "element"
        ],
        "spread": false,
        "optional": false,
        "name": "v",
        "description": "The element"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "show",
        "description": "The element will show (if false, will hide)"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 76,
    "kind": "function",
    "name": "apr_fade",
    "memberof": "ugraphics/src/js/cg/cgAnimate.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "ugraphics/src/js/cg/cgAnimate.js~apr_fade",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/cg/cgAnimate.js",
    "importStyle": null,
    "description": "Animation program: fade",
    "lineNumber": 46,
    "params": [
      {
        "name": "v",
        "types": [
          "*"
        ]
      },
      {
        "name": "show",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 77,
    "kind": "function",
    "name": "apr_slide_x",
    "memberof": "ugraphics/src/js/cg/cgAnimate.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "ugraphics/src/js/cg/cgAnimate.js~apr_slide_x",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/cg/cgAnimate.js",
    "importStyle": null,
    "description": "Animation program: slide from left",
    "lineNumber": 61,
    "params": [
      {
        "name": "v",
        "types": [
          "*"
        ]
      },
      {
        "name": "show",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 78,
    "kind": "function",
    "name": "cgAnimate",
    "memberof": "ugraphics/src/js/cg/cgAnimate.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "ugraphics/src/js/cg/cgAnimate.js~cgAnimate",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/src/js/cg/cgAnimate.js",
    "importStyle": "cgAnimate",
    "description": "Animate an element according to its properties",
    "lineNumber": 80,
    "params": [
      {
        "nullable": null,
        "types": [
          "element"
        ],
        "spread": false,
        "optional": false,
        "name": "element",
        "description": "The element"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "show",
        "description": "The element will show (if false, will hide)"
      }
    ],
    "return": null
  },
  {
    "__docId__": 79,
    "kind": "file",
    "name": "ugraphics/src/js/cg/cgController.js",
    "content": "import $ from 'jquery';\nimport SocketIOClient from 'socket.io-client';\nimport Rivets from 'rivets';\nimport _ from 'lodash';\nimport cgAnimate from './cgAnimate.js';\n\n/** The data store backing object */\nlet dataStoreBacking = {};\n\n/** Graphics that are currently in progress */\nlet inProgress = {};\n\n/**\n * Character generator controller class\n */\nexport default class CGController {\n    /**\n     * @param {string} id The ID of the controller\n     */\n    constructor (id) {\n        /** The element that will contain the contents of the controller template -\n         * has an `fg-component` attribute corresponding to the ID of the controller\n         */\n        this.element = $(`[fg-component='${id}']`);\n\n        /** A proxy that writes to the data store backing */\n        this.dataStore = new Proxy(dataStoreBacking, this.dataStoreTraps);\n\n        /** Methods that are called when trigger messages are received */\n        this.methods = {};\n\n        /** The ID of the controller */\n        this.name = id;\n        /** The socket.io client */\n        this.io = SocketIOClient.connect();\n\n        // Bind the controller to the element, using the data store proxy\n        // as the data model\n        Rivets.bind(this.element, this.dataStore);\n        \n        // Call the method to set up the handlers that handle socket messages\n        this.cgSetSocketHandlers();\n\n        $(() => this.io.emit(`${this.name}:get`));\n    }\n\n    /** Sets up socket message handler functions for the controller */\n    cgSetSocketHandlers() {\n        // When a sync message is received...\n        this.io.on(`${this.name}:synf`, msg => {\n            // Send a log to the console for debugging purposes\n            console.log(`${this.name}: received ${this.name}:synf, ${JSON.stringify(msg)}`);\n\n            // Use _.assign to merge the received state into the local data store\n            _.assign(this.dataStore, msg);\n        });\n\n        // When a trigger message is received...\n        this.io.on(`${this.name}:trigger`, msg => {\n            // Send a log to the console for debugging purposes\n            console.log(`${this.name}: received ${this.name}: trigger, ${JSON.stringify(msg)}`);\n\n            // Keep a record of the event id contained in the msg object\n            let id = msg.id;\n\n            // If there's a suitable element to animate, trigger the animation for\n            // that element\n            let elementToAnimate = $(`[fg-trigger-anim='${id}']`);\n            if (elementToAnimate) this.cgTriggerAnimate(\n                id,\n                elementToAnimate,\n                msg.data,\n                elementToAnimate.attr('fg-anim-duration') || 5000\n            );\n\n            // Otherwise, if there's a corresponding method, execute it, passing\n            // the data contained in the msg object as the only argument\n            else if (this.methods[id]) this.methods[id](msg.data);\n        });\n    }\n\n    /** Automates various parts of a graphic animation when a trigger group\n     * is received\n     * @param {string} id The ID of the animation\n     * @param {element} elem The element to animate\n     * @param {Object} data The data used in the animation\n     * @param {Number} [hideDelay=5000] The duration of the animation before hiding the element, in ms\n     * @param {function} [customFn=()=>{}] A custom function to execute\n     */\n    cgTriggerAnimate (\n        id,\n        elem,\n        data,\n        hideDelay = 5000,\n        customFn = () => {}\n    ) {\n        // Return if the delay's less than 200 ms or there\n        // is a marker saying this graphic is currently\n        // in progress\n        if (hideDelay < 200 || inProgress[id]) {\n            console.log(`${this.name}: the graphic ${id} is currently in progress`);\n            return;\n        }\n\n        // Otherwise, start by marking this graphic as in progress\n        inProgress[id] = true;\n\n        console.log(`${this.name}: cgTriggerAnimate for id ${id}, hideDelay ${hideDelay}`);\n\n        // Automatically set the values of relevant DOM elements\n        for (let item in data) {\n            $(`[fg-trigger-data='${item}']`).text(data[item]);\n        }\n\n        // Animate the element in\n        cgAnimate(elem, true);\n\n        // Execute any custom code\n        customFn();\n\n        // After the specified delay, animate the element out and\n        // unmark the graphic as being in progress\n        setTimeout(() => {\n            cgAnimate(elem, false);\n            inProgress[id] = false;\n        }, hideDelay);\n    }\n\n    /** Trap functions used by the data store proxy to\n     * handle access to the data store backing object\n     */\n    get dataStoreTraps() {\n        return {\n            // On assignment\n            set: function (target, property, value, receiver) {\n                console.log(`${name}: data store trap, setting property ${property} to value ${value}`);\n                // Assign the value to the target object's property as usual\n                target[property] = value;\n\n                // Animate any DOM element that has an fg-show attribute\n                // that binds it to this property\n                $(`[fg-show='${property}`).each((i, v) => cgAnimate(v, value));\n\n                // Return true, indicating success\n                console.log(`${name}: data store trap for ${property} complete`);\n                return true;\n            }\n        }\n    }\n}\n",
    "static": true,
    "longname": "/Users/harry/Developer/Builds/ugraphics/src/js/cg/cgController.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 80,
    "kind": "variable",
    "name": "dataStoreBacking",
    "memberof": "ugraphics/src/js/cg/cgController.js",
    "static": true,
    "longname": "ugraphics/src/js/cg/cgController.js~dataStoreBacking",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/cg/cgController.js",
    "importStyle": null,
    "description": "The data store backing object",
    "lineNumber": 8,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 81,
    "kind": "variable",
    "name": "inProgress",
    "memberof": "ugraphics/src/js/cg/cgController.js",
    "static": true,
    "longname": "ugraphics/src/js/cg/cgController.js~inProgress",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/cg/cgController.js",
    "importStyle": null,
    "description": "Graphics that are currently in progress",
    "lineNumber": 11,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 82,
    "kind": "class",
    "name": "CGController",
    "memberof": "ugraphics/src/js/cg/cgController.js",
    "static": true,
    "longname": "ugraphics/src/js/cg/cgController.js~CGController",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/src/js/cg/cgController.js",
    "importStyle": "CGController",
    "description": "Character generator controller class",
    "lineNumber": 16,
    "interface": false
  },
  {
    "__docId__": 83,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "ugraphics/src/js/cg/cgController.js~CGController",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "ugraphics/src/js/cg/cgController.js~CGController#constructor",
    "access": "public",
    "description": "",
    "lineNumber": 20,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "The ID of the controller"
      }
    ]
  },
  {
    "__docId__": 84,
    "kind": "member",
    "name": "element",
    "memberof": "ugraphics/src/js/cg/cgController.js~CGController",
    "static": false,
    "longname": "ugraphics/src/js/cg/cgController.js~CGController#element",
    "access": "public",
    "description": "The element that will contain the contents of the controller template -\nhas an `fg-component` attribute corresponding to the ID of the controller",
    "lineNumber": 24,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 85,
    "kind": "member",
    "name": "dataStore",
    "memberof": "ugraphics/src/js/cg/cgController.js~CGController",
    "static": false,
    "longname": "ugraphics/src/js/cg/cgController.js~CGController#dataStore",
    "access": "public",
    "description": "A proxy that writes to the data store backing",
    "lineNumber": 27,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 86,
    "kind": "member",
    "name": "methods",
    "memberof": "ugraphics/src/js/cg/cgController.js~CGController",
    "static": false,
    "longname": "ugraphics/src/js/cg/cgController.js~CGController#methods",
    "access": "public",
    "description": "Methods that are called when trigger messages are received",
    "lineNumber": 30,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 87,
    "kind": "member",
    "name": "name",
    "memberof": "ugraphics/src/js/cg/cgController.js~CGController",
    "static": false,
    "longname": "ugraphics/src/js/cg/cgController.js~CGController#name",
    "access": "public",
    "description": "The ID of the controller",
    "lineNumber": 33,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 88,
    "kind": "member",
    "name": "io",
    "memberof": "ugraphics/src/js/cg/cgController.js~CGController",
    "static": false,
    "longname": "ugraphics/src/js/cg/cgController.js~CGController#io",
    "access": "public",
    "description": "The socket.io client",
    "lineNumber": 35,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 89,
    "kind": "method",
    "name": "cgSetSocketHandlers",
    "memberof": "ugraphics/src/js/cg/cgController.js~CGController",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "ugraphics/src/js/cg/cgController.js~CGController#cgSetSocketHandlers",
    "access": "public",
    "description": "Sets up socket message handler functions for the controller",
    "lineNumber": 48,
    "params": [],
    "return": null
  },
  {
    "__docId__": 90,
    "kind": "method",
    "name": "cgTriggerAnimate",
    "memberof": "ugraphics/src/js/cg/cgController.js~CGController",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "ugraphics/src/js/cg/cgController.js~CGController#cgTriggerAnimate",
    "access": "public",
    "description": "Automates various parts of a graphic animation when a trigger group\nis received",
    "lineNumber": 90,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "The ID of the animation"
      },
      {
        "nullable": null,
        "types": [
          "element"
        ],
        "spread": false,
        "optional": false,
        "name": "elem",
        "description": "The element to animate"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data used in the animation"
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "5000",
        "defaultRaw": 5000,
        "name": "hideDelay",
        "description": "The duration of the animation before hiding the element, in ms"
      },
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": true,
        "name": "customFn",
        "description": "A custom function to execute"
      }
    ],
    "return": null
  },
  {
    "__docId__": 91,
    "kind": "get",
    "name": "dataStoreTraps",
    "memberof": "ugraphics/src/js/cg/cgController.js~CGController",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "ugraphics/src/js/cg/cgController.js~CGController#dataStoreTraps",
    "access": "public",
    "description": "Trap functions used by the data store proxy to\nhandle access to the data store backing object",
    "lineNumber": 132,
    "type": {
      "types": [
        "{\"set\": *}"
      ]
    }
  },
  {
    "__docId__": 92,
    "kind": "file",
    "name": "ugraphics/src/js/cg/modules/clock.js",
    "content": "import $ from 'jquery';\nimport _ from 'lodash';\nimport Moment from 'moment';\n\n/** Sets up and returns an interval that updates the text of all elements\n * with an fg-clock attribute to the current time, every second\n * @return {Number} The ID of the timer that was set\n */\nexport default () => {\n    // Tick every second\n    let tickFn = () => {\n        $('[fg-clock]').each((i, v) => { \n            let el = $(v);\n            el.text(Moment().format(el.attr('fg-clock-format') || 'HH:MM'));\n        });\n    };\n    tickFn();\n    return setInterval(tickFn, 1000);\n};\n",
    "static": true,
    "longname": "/Users/harry/Developer/Builds/ugraphics/src/js/cg/modules/clock.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 93,
    "kind": "function",
    "name": "clock",
    "memberof": "ugraphics/src/js/cg/modules/clock.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "ugraphics/src/js/cg/modules/clock.js~clock",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/src/js/cg/modules/clock.js",
    "importStyle": "clock",
    "description": "Sets up and returns an interval that updates the text of all elements\nwith an fg-clock attribute to the current time, every second",
    "lineNumber": 9,
    "return": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": "The ID of the timer that was set"
    },
    "params": []
  },
  {
    "__docId__": 94,
    "kind": "file",
    "name": "ugraphics/src/js/dash/dash.js",
    "content": "// -----------------------------------\n// - Dashboard entry point\n// -----------------------------------\n\n// Package imports\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport SocketIO from 'socket.io-client';\nimport Navigo from 'navigo';\nimport Axios from 'axios';\nimport Rivets from 'rivets';\nimport Bootstrap from 'bootstrap';\n\n// Custom module imports\nimport BugCtrl from './controllers/bug';\nimport MaintenanceCtrl from './controllers/maintenance';\nimport LowerThirdsCtrl from './controllers/lowerThirds';\n\nconsole.log('dash: begin');\n\n// Page elements\n/** The navbar element */\nlet navbarElem = $('#mainNav');\n/** The content container element */\nlet contentElem = $('#content');\n\n// When loaded, remove the 'Loading' message\nconsole.log('dash: removing all [data-remove-loaded] elements');\n$('[data-remove-loaded]').each((i, v) => $(v).remove());\n\n/** A store of controller objects */\nlet controllers = {\n    bug: {\n        name: 'Bug',\n        controller: BugCtrl\n    },\n    lowerThirds: {\n        name: 'Lower Thirds',\n        controller: LowerThirdsCtrl\n    },\n    maintenance: {\n        name: 'Maintenance',\n        controller: MaintenanceCtrl\n    }\n};\n\n// Add a navbar item for each controller\nfor (let id in controllers) {\n    console.log(`dash: appending item for id ${id} to navbar`);\n    navbarElem.append(`<li class=\"nav-item\" id=\"${id}Link\" data-fgroute><a class=\"nav-link\" href=\"page/${id}\" data-navigo>${controllers[id].name}</a></li>`)\n}\n\n/** A store of binding objects */\nlet bindings = {};\n\n/** The fallback controller object when the requested route has no corresponding controller*/\nlet defaultRoute = _.keys(controllers)[0];\n\n/** Set up a route */\nlet setRoute = id => {\n    console.log(`dash: setting route for ${id}`);\n    // Load the template from the server\n    Axios.get(`/dash/templates/${id}`)\n        .then(response => {\n            // If successful, set the inner HTML of the content element\n            // to the server's response, and add the binding to the list\n            console.log(`dash: setting inner HTML for id ${id} dashboard`);\n            contentElem.html(response.data);\n            bindings[id] = new controllers[id].controller(id);\n        })\n        // Otherwise, go to the default route\n        .catch(error => {\n            console.log(`dash: could not set inner HTML for id ${id} dashboard (error ${error})`);\n            router.navigate(`/page/${defaultRoute}`)\n        });\n    \n    // Remove the 'active' class for all navbar items\n    // then add it to the current one\n    // Very possibly a hack-y workaround for functionality I've not yet grasped\n    navbarElem.children('li').each((i, v) => $(v).children('a').removeClass('active'));\n    $(`#${id}Link a`).addClass('active');\n};\n\n/** A Navigo router object */\nlet router = new Navigo();\n// Set up the router to route requests and provide a fallback\nrouter\n    .on('/page/:id', params => {\n        console.log(`dash: found route for id ${params.id}`);\n        setRoute(params.id);\n    })\n    .on('*', () => {\n        console.log(`dash: wildcard route hit, returning to defaultRoute ${defaultRoute}`);\n        router.navigate(`/page/${defaultRoute}`);\n    })\n    .resolve();\n\n// Connect to the socket.io server\nconsole.log('dash: connecting socket.io');\n/** The socket.io client */\nlet io = SocketIO.connect();\n",
    "static": true,
    "longname": "/Users/harry/Developer/Builds/ugraphics/src/js/dash/dash.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 95,
    "kind": "variable",
    "name": "navbarElem",
    "memberof": "ugraphics/src/js/dash/dash.js",
    "static": true,
    "longname": "ugraphics/src/js/dash/dash.js~navbarElem",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/dash/dash.js",
    "importStyle": null,
    "description": "The navbar element",
    "lineNumber": 23,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 96,
    "kind": "variable",
    "name": "contentElem",
    "memberof": "ugraphics/src/js/dash/dash.js",
    "static": true,
    "longname": "ugraphics/src/js/dash/dash.js~contentElem",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/dash/dash.js",
    "importStyle": null,
    "description": "The content container element",
    "lineNumber": 25,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 97,
    "kind": "variable",
    "name": "controllers",
    "memberof": "ugraphics/src/js/dash/dash.js",
    "static": true,
    "longname": "ugraphics/src/js/dash/dash.js~controllers",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/dash/dash.js",
    "importStyle": null,
    "description": "A store of controller objects",
    "lineNumber": 32,
    "type": {
      "types": [
        "{\"bug\": *, \"lowerThirds\": *, \"maintenance\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 98,
    "kind": "variable",
    "name": "bindings",
    "memberof": "ugraphics/src/js/dash/dash.js",
    "static": true,
    "longname": "ugraphics/src/js/dash/dash.js~bindings",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/dash/dash.js",
    "importStyle": null,
    "description": "A store of binding objects",
    "lineNumber": 54,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 99,
    "kind": "variable",
    "name": "defaultRoute",
    "memberof": "ugraphics/src/js/dash/dash.js",
    "static": true,
    "longname": "ugraphics/src/js/dash/dash.js~defaultRoute",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/dash/dash.js",
    "importStyle": null,
    "description": "The fallback controller object when the requested route has no corresponding controller",
    "lineNumber": 57,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 100,
    "kind": "function",
    "name": "setRoute",
    "memberof": "ugraphics/src/js/dash/dash.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "ugraphics/src/js/dash/dash.js~setRoute",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/dash/dash.js",
    "importStyle": null,
    "description": "Set up a route",
    "lineNumber": 60,
    "params": [
      {
        "name": "id",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 101,
    "kind": "variable",
    "name": "router",
    "memberof": "ugraphics/src/js/dash/dash.js",
    "static": true,
    "longname": "ugraphics/src/js/dash/dash.js~router",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/dash/dash.js",
    "importStyle": null,
    "description": "A Navigo router object",
    "lineNumber": 85,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 102,
    "kind": "variable",
    "name": "io",
    "memberof": "ugraphics/src/js/dash/dash.js",
    "static": true,
    "longname": "ugraphics/src/js/dash/dash.js~io",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/dash/dash.js",
    "importStyle": null,
    "description": "The socket.io client",
    "lineNumber": 101,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 103,
    "kind": "file",
    "name": "ugraphics/src/js/dash/dashController.js",
    "content": "import $ from 'jquery';\nimport Rivets from 'rivets';\nimport SocketIOClient from 'socket.io-client';\nimport _ from 'lodash';\n\nlet name;\nlet io;\nlet dataStore;\n\n/** The data store backing object */\nlet dataStoreBacking = {};\n\n/** The method store backing object */\nlet methodsBacking = {};\n\n/**\n * Dashboard controller class\n *\n * Each dashboard tab corresponds to an instance of this controller\n */\nexport default class DashController {\n    /**\n     * @param {string} id The ID of the controller\n     */\n    constructor(id) {\n        console.log(`${id}: constructing controller`);\n\n        /** The element that will contain the contents of the controller template -\n         * has an `fg-panel` attribute corresponding to the ID of the controller\n         */\n        this.element = $(`[fg-panel='${id}']`);\n        name = this.name = id;\n        io = SocketIOClient.connect();\n\n        /** A proxy that writes to the methods store backing */\n        this.methods = new Proxy(methodsBacking, this.methodsStoreTraps);\n\n        /** A proxy that writes to the data store backing */\n        dataStore = this.dataStore = new Proxy(dataStoreBacking, this.dataStoreTraps);\n\n        /** A Rivets binding between the controller and its container element,\n         * which uses the data store proxy as its data model\n         */\n        this.view = Rivets.bind(this.element, this.dataStore);\n\n        // Set up functions that handle socket messages\n        this.setSocketHandlers();\n        \n        // Set up buttons that handle copying values of fg-copy elements\n        // into the main state data store\n        this.setButtons();\n\n        // When the document's ready ($()), emit a 'get' socket message that will\n        // cause the server to emit a sync message with the component's state\n        $(() => io.emit(`${name}:get`));\n    }\n\n    /** Trap functions used by the data store proxy to\n     * handle access to the data store backing object\n     */\n    get dataStoreTraps() {\n        return {\n            set: function(target, property, value, receiver) {\n                console.log(`${name}: data store trap, setting property ${property} to value ${value}`);\n                // Set the target's property to the value as normal\n                target[property] = value;\n\n                let obj = {};\n                obj[property] = value;\n\n                // Emit a socket message informing the server of changes\n                // and in turn causing it to sync other clients\n                io.emit(`${name}:sync`, obj);\n\n                // Return true, indicating success\n                console.log(`${name}: data store trap for ${property} complete`);\n                return true;\n            }\n        };\n    }\n\n    /** Trap functions used by the method store proxy\n     * to handle access to the method store backing object\n     */\n    get methodsStoreTraps() {\n        return {\n            set: function(target, property, value, receiver) {\n                console.log(`${name}: methods store trap, setting property ${property} to value ${value}`);\n                // If the value assigned is not a function, return false,\n                // indicating failure\n                if (typeof value !== 'function') {\n                    console.log(`${name}: methods store trap: ${value} is not a function`);\n                    return false;\n                }\n\n                // Set the target's property to the value as normal\n                target[property] = value;\n\n                // For any DOM element with an fg-click attribute set\n                // to the name of the method being assigned,\n                // disable any click event handler that is in place\n                // and add a new click event handler pointing to\n                // the new method\n                $(`[fg-click='${property}']`).off('click').click(target[property]).each(\n                    n => console.log(`${name}: reassigning click handler for ${n}`));\n\n                // Return true, indicating success\n                console.log(`${name}: methods store trap for ${property} complete`);\n                return true;\n            }\n        };\n    }\n\n    /**\n     * Copies a value from an fg-copy element to the main state data store\n     * @param {string} id The ID of the value to copy\n     */\n    copyValue(id) {\n        console.log(`${name}: copying value ${id}`);\n\n        // Does what it says on the tin\n        this.dataStore[id] = $(`[fg-copy='${id}']`).val();\n    }\n\n    /**\n     * Sets up all the controller's elements with an `fg-copy-button` attribute\n     * to copy the corresponding value using {@link copyValue}\n     */\n    setButtons() {\n        console.log(`${name}: setting buttons`);\n\n        // For singular copy buttons\n        this.element.find('[fg-copy-button]').each((i, v) => {\n            // Find the element and get the name of the field it'll copy\n            let elem = $(v);\n            let copyId = elem.attr('fg-copy-button');\n\n            console.log(`${name}: found fg-copy-button for copyId ${copyId}`);\n            elem.click(() => {\n                console.log(`${name}: fg-copy-button clicked for copyId ${copyId}`);\n                \n                // On click, copy the field\n                this.copyValue(copyId);\n            });\n        });\n\n        this.element.find('[fg-copy-button-group]').each((i, v) => {\n            // Find the element and get the name of the group it copies\n            let elem = $(v);\n            let copyGroup = elem.attr('fg-copy-button-group');\n\n            console.log(`${name}: found fg-copy-button for copyGroup ${copyGroup}`);\n            elem.click(() => {\n                // On click\n                console.log(`${name}: fg-copy-button-group clicked for copyGroup ${copyGroup}`);\n\n                // Find all inputs that share that group\n                this.element.find(`[fg-copy-group=\"${copyGroup}\"]`).each((ia, va) => {\n                    // Find the element and get the name of the copy field it's bound to\n                    let elem_a = $(va);\n                    let copyId = elem_a.attr('fg-copy');\n\n                    console.log(`${name}: find fg-copy-group= copyGroup ${copyGroup}, copyId ${copyId}`);\n                    // Copy the field\n                    this.copyValue(copyId);\n                });\n            });\n        });\n\n        this.element.find('[fg-trigger-button-group]').each((i, v) => {\n            // Find the element and get the name of the trigger group it belongs to\n            let elem = $(v);\n            let triggerGroup = elem.attr('fg-trigger-button-group');\n\n            console.log(`${name}: found fg-trigger-button for triggerGroup ${triggerGroup}`);\n            elem.click(() => {\n                let data = {};\n                console.log(`${name}: fg-trigger-button-group clicked for triggerGroup ${triggerGroup}`);\n\n                this.element.find(`[fg-trigger-group=\"${triggerGroup}\"]`).each((ia, va) => {\n                    let elem_a = $(va);\n                    let triggerId = elem_a.attr('fg-trigger');\n\n                    console.log(`${name}: find fg-trigger-group triggerGroup ${triggerGroup}, triggerId ${triggerId}`);\n                    data[triggerId] = $(`[fg-trigger='${triggerId}']`).val();\n                });\n\n                this.trigger(triggerGroup, data);\n            });\n        });\n\n        this.element.find('[fg-trigger]').each((i, v) => {\n            let elem = $(v);\n            let triggerId = elem.attr('fg-trigger');\n\n            console.log(`${name}: found fg-trigger for triggerId ${triggerId}`);\n            elem.click(() => {\n                console.log(`${name}: fg-trigger clicked for triggerId ${triggerId}`);\n\n                this.trigger(triggerId);\n            });\n        });\n    }\n\n    /** Sends a trigger message\n     * @param {string} id The ID of the message to send\n     * @param {Object} data The data to be sent\n     */\n    trigger(id, data) {\n        console.log(`${name}: trigger id ${id}, data ${JSON.stringify(data)}`);\n        io.emit(`${name}:trigger`, _.assign({ id: id, data: data || null}));\n    }\n\n    /** Sets up socket message handler functions for the controller */\n    setSocketHandlers() {\n        // When a sync message is received...\n        io.on(`${name}:synf`, msg => {\n            console.log(`${name}: received synf, ${JSON.stringify(msg)}`);\n\n            // Use _.assign to merge the received state into the local data store\n            _.assign(dataStoreBacking, msg);\n\n            // Set the value of each fg-copy element to the corresponding value\n            // from the model\n            $(`[fg-copy]`).each((i, v) => {\n                let elem = $(v);\n                let model = elem.attr('fg-copy');\n                elem.val(this.dataStore[model]);\n            });\n        });\n    }\n}\n",
    "static": true,
    "longname": "/Users/harry/Developer/Builds/ugraphics/src/js/dash/dashController.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 104,
    "kind": "variable",
    "name": "dataStoreBacking",
    "memberof": "ugraphics/src/js/dash/dashController.js",
    "static": true,
    "longname": "ugraphics/src/js/dash/dashController.js~dataStoreBacking",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/dash/dashController.js",
    "importStyle": null,
    "description": "The data store backing object",
    "lineNumber": 11,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 105,
    "kind": "variable",
    "name": "methodsBacking",
    "memberof": "ugraphics/src/js/dash/dashController.js",
    "static": true,
    "longname": "ugraphics/src/js/dash/dashController.js~methodsBacking",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/src/js/dash/dashController.js",
    "importStyle": null,
    "description": "The method store backing object",
    "lineNumber": 14,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 106,
    "kind": "class",
    "name": "DashController",
    "memberof": "ugraphics/src/js/dash/dashController.js",
    "static": true,
    "longname": "ugraphics/src/js/dash/dashController.js~DashController",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/src/js/dash/dashController.js",
    "importStyle": "DashController",
    "description": "Dashboard controller class\n\nEach dashboard tab corresponds to an instance of this controller",
    "lineNumber": 21,
    "interface": false
  },
  {
    "__docId__": 107,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "ugraphics/src/js/dash/dashController.js~DashController",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "ugraphics/src/js/dash/dashController.js~DashController#constructor",
    "access": "public",
    "description": "",
    "lineNumber": 25,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "The ID of the controller"
      }
    ]
  },
  {
    "__docId__": 108,
    "kind": "member",
    "name": "element",
    "memberof": "ugraphics/src/js/dash/dashController.js~DashController",
    "static": false,
    "longname": "ugraphics/src/js/dash/dashController.js~DashController#element",
    "access": "public",
    "description": "The element that will contain the contents of the controller template -\nhas an `fg-panel` attribute corresponding to the ID of the controller",
    "lineNumber": 31,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 109,
    "kind": "member",
    "name": "methods",
    "memberof": "ugraphics/src/js/dash/dashController.js~DashController",
    "static": false,
    "longname": "ugraphics/src/js/dash/dashController.js~DashController#methods",
    "access": "public",
    "description": "A proxy that writes to the methods store backing",
    "lineNumber": 36,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 110,
    "kind": "member",
    "name": "view",
    "memberof": "ugraphics/src/js/dash/dashController.js~DashController",
    "static": false,
    "longname": "ugraphics/src/js/dash/dashController.js~DashController#view",
    "access": "public",
    "description": "A Rivets binding between the controller and its container element,\nwhich uses the data store proxy as its data model",
    "lineNumber": 44,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 111,
    "kind": "get",
    "name": "dataStoreTraps",
    "memberof": "ugraphics/src/js/dash/dashController.js~DashController",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "ugraphics/src/js/dash/dashController.js~DashController#dataStoreTraps",
    "access": "public",
    "description": "Trap functions used by the data store proxy to\nhandle access to the data store backing object",
    "lineNumber": 61,
    "type": {
      "types": [
        "{\"set\": *}"
      ]
    }
  },
  {
    "__docId__": 112,
    "kind": "get",
    "name": "methodsStoreTraps",
    "memberof": "ugraphics/src/js/dash/dashController.js~DashController",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "ugraphics/src/js/dash/dashController.js~DashController#methodsStoreTraps",
    "access": "public",
    "description": "Trap functions used by the method store proxy\nto handle access to the method store backing object",
    "lineNumber": 85,
    "type": {
      "types": [
        "{\"set\": *}"
      ]
    }
  },
  {
    "__docId__": 113,
    "kind": "method",
    "name": "copyValue",
    "memberof": "ugraphics/src/js/dash/dashController.js~DashController",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "ugraphics/src/js/dash/dashController.js~DashController#copyValue",
    "access": "public",
    "description": "Copies a value from an fg-copy element to the main state data store",
    "lineNumber": 118,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "The ID of the value to copy"
      }
    ],
    "return": null
  },
  {
    "__docId__": 114,
    "kind": "method",
    "name": "setButtons",
    "memberof": "ugraphics/src/js/dash/dashController.js~DashController",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "ugraphics/src/js/dash/dashController.js~DashController#setButtons",
    "access": "public",
    "description": "Sets up all the controller's elements with an `fg-copy-button` attribute\nto copy the corresponding value using {@link copyValue}",
    "lineNumber": 129,
    "params": [],
    "return": null
  },
  {
    "__docId__": 115,
    "kind": "method",
    "name": "trigger",
    "memberof": "ugraphics/src/js/dash/dashController.js~DashController",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "ugraphics/src/js/dash/dashController.js~DashController#trigger",
    "access": "public",
    "description": "Sends a trigger message",
    "lineNumber": 209,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "The ID of the message to send"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data to be sent"
      }
    ],
    "return": null
  },
  {
    "__docId__": 116,
    "kind": "method",
    "name": "setSocketHandlers",
    "memberof": "ugraphics/src/js/dash/dashController.js~DashController",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "ugraphics/src/js/dash/dashController.js~DashController#setSocketHandlers",
    "access": "public",
    "description": "Sets up socket message handler functions for the controller",
    "lineNumber": 215,
    "params": [],
    "return": null
  },
  {
    "__docId__": 117,
    "kind": "file",
    "name": "ugraphics/src/js/dash/modules/queue.js",
    "content": "import $ from 'jquery';\n\nexport default controller => {\n    console.log(`${controller.name}: queue module`);\n    $('[fg-queue-add]').each((i, v) => {\n        let el = $(v);\n        let ar = el.attr('fg-queue-add');\n        el.click(() => {\n            console.log(`${controller.name}: fg-queue-add for ${ar}`);\n            controller.dataStore[`queue_${ar}`].push(controller.dataStore.currentQueueInput[ar]);\n        });\n    });\n};\n",
    "static": true,
    "longname": "/Users/harry/Developer/Builds/ugraphics/src/js/dash/modules/queue.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 118,
    "kind": "function",
    "name": "queue",
    "memberof": "ugraphics/src/js/dash/modules/queue.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "ugraphics/src/js/dash/modules/queue.js~queue",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/src/js/dash/modules/queue.js",
    "importStyle": "queue",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "params": [
      {
        "name": "controller",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 119,
    "kind": "file",
    "name": "ugraphics/stylesheet.js",
    "content": "import Path from 'path';\nimport Cssnext from 'postcss-cssnext';\nimport Cssnano from 'cssnano';\nimport PostCSSMiddleware from 'postcss-middleware';\nimport Stylus from 'stylus';\nimport FS from 'fs';\n\nimport Config from './config';\nimport { Debug, CWD } from './shared';\n\n// - STYLESHEET PROCESSING -----------------------------------------------------\n/** The plugins that PostCSS should use when postprocessing */\nlet postCSSPlugins = [\n    Cssnext({\n        browsers: Config.frontend.browserSupport\n    })\n];\nif (Debug) postCSSPlugins.push(\n    Cssnano({\n        autoprefixer: false\n    })\n);\n\n/**\n * Sets up an Express app to serve up compiled and postprocessed Stylus stylesheets\n * @param {express} app The app to be configured\n */\nexport let Styl = app => {\n    app.use(Stylus.middleware({\n        src: Path.join(CWD, 'src'),\n        dest: Path.join(CWD, 'output'),\n        compile: (str, path) => Stylus(str)\n            .set('filename', path)\n            .set('include css', true)\n            .set('paths', Config.frontend.stylIncludePaths)\n    }));\n    app.use('/output/styl', PostCSSMiddleware({\n        src: req => Path.join(CWD, 'output', 'styl', req.url),\n        plugins: postCSSPlugins\n    }));\n}\n",
    "static": true,
    "longname": "/Users/harry/Developer/Builds/ugraphics/stylesheet.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 120,
    "kind": "variable",
    "name": "postCSSPlugins",
    "memberof": "ugraphics/stylesheet.js",
    "static": true,
    "longname": "ugraphics/stylesheet.js~postCSSPlugins",
    "access": "public",
    "export": false,
    "importPath": "ugraphics/ugraphics/stylesheet.js",
    "importStyle": null,
    "description": "The plugins that PostCSS should use when postprocessing",
    "lineNumber": 13,
    "type": {
      "types": [
        "undefined[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 121,
    "kind": "function",
    "name": "Styl",
    "memberof": "ugraphics/stylesheet.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "ugraphics/stylesheet.js~Styl",
    "access": "public",
    "export": true,
    "importPath": "ugraphics/ugraphics/stylesheet.js",
    "importStyle": "{Styl}",
    "description": "Sets up an Express app to serve up compiled and postprocessed Stylus stylesheets",
    "lineNumber": 28,
    "params": [
      {
        "nullable": null,
        "types": [
          "express"
        ],
        "spread": false,
        "optional": false,
        "name": "app",
        "description": "The app to be configured"
      }
    ],
    "return": null
  },
  {
    "kind": "index",
    "content": "The application starts at `server.js` - read the comments there for a walkthrough\nof how it works under the hood\n\nDeveloped against node v8.9.4\n\n## Developing and running the graphics server\n\nSee below for Windows instructions\n\n### Prerequisite software\n\n- Node.js (download at nodejs.org, using a package manager for\nyour platform, e.g. Homebrew on macOS or Chocolatey on Windows,\nor using `nvm` or nvm for windows)\n- JSPM (install globally through Node's npm package manager by running\n`npm install -g jspm`)\n- Strongly recommended: Yarn, an alternative to the npm package manager (again,\nrecommended to install this through e.g. `brew` or `choco`)\n- For development: gulp (`npm install -g gulp-cli`)\n\n### Installing packages\n\n- At the terminal/command prompt, run `npm install` (or `yarn` if you have\nit installed), followed by `jspm install`\n\n### Running the server\n\n- Run `node server` to run the server\n- Run `gulp` to run the server with the debug environment variable,\nwatch for changes to essential files and reload the server (useful during\ndevelopment)\n- You can use the option `-p` or `--port` to choose the port the server listens\non (3000 by default)\n\n### Generating documentation\nTo generate documentation, use [ESDoc](https://esdoc.org).\n\n## Steps to make the thing work on Windows, from scratch\n\n- Open cmd/powershell\n- Install chocolatey from chocolatey.org\n- `choco install -y git nodejs yarn`\n- Close the cmd/powershell and open it again\n- `npm i -g typescript ts-node gulp-cli` (can leave `gulp-cli` out if not developing)\n- Make sure you're in the directory you want to be in\n- `git clone <repository>`\n- `cd <repository>`\n- `yarn` (if you don't have yarn, then `npm i`)\n- `jspm i`\n- Run it using `ts-node server`\n- Run it in debug mode using `gulp`\n\n## Files and directories\n```\n/.vscode - Visual Studio Code configuration\n/assets - Static assets\n    /assets/css - Static CSS stylesheets\n    /assets/fonts - Webfont files\n    /assets/img - Images (including SVG)\n/src - Client-side source files\n    /src/js - Client-side JavaScript (dash and character generator)\n        - config.js - SystemJS config\n    /src/scss - SCSS stylesheets for the dashboard (Gulp compiles these to the /assets/css directory)\n    /src/styl - Stylus stylesheets for the character generator (the server compiles these live)\n/views - Pug files (compiled to HTML live by the server)\n/*.ts - Server source\n/gulpfile.js - Gulp tasks\n/package.json - Package configuration\n/yarn.lock - Yarn package manager lockfile\n/config.json - Server configuration\n/index.js - A stub that uses babel-register to load server.js\n```\n",
    "longname": "/Users/harry/Developer/Builds/ugraphics/README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\n  \"name\": \"ugraphics\",\n  \"version\": \"0.0.1\",\n  \"main\": \"index.js\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"@types/express\": \"^4.11.1\",\n    \"@types/lodash\": \"^4.14.102\",\n    \"@types/node\": \"^9.4.6\",\n    \"@types/shelljs\": \"^0.7.8\",\n    \"@types/socket.io\": \"^1.4.31\",\n    \"@types/stylus\": \"^0.48.29\",\n    \"@types/winston\": \"^2.3.8\",\n    \"@types/yargs\": \"^11.0.0\",\n    \"babel-preset-env\": \"^1.6.1\",\n    \"babel-register\": \"^6.26.0\",\n    \"bootstrap\": \"4\",\n    \"caniuse-db\": \"^1.0.30000652\",\n    \"cssnano\": \"^3.10.0\",\n    \"esdoc\": \"^1.0.4\",\n    \"esdoc-standard-plugin\": \"^1.0.0\",\n    \"express\": \"^4.15.2\",\n    \"gulp-clean\": \"^0.4.0\",\n    \"jquery\": \"^3.3.1\",\n    \"jspm\": \"^0.16.53\",\n    \"jspm-github\": \"0.13.18\",\n    \"lodash\": \"^4.17.5\",\n    \"moment\": \"^2.18.1\",\n    \"popper.js\": \"^1.12.9\",\n    \"postcss-cssnext\": \"^2.10.0\",\n    \"postcss-middleware\": \"^1.1.3\",\n    \"pug\": \"^2.0.0-rc.1\",\n    \"shelljs\": \"^0.8.1\",\n    \"socket.io\": \"^2.0.4\",\n    \"stylus\": \"^0.54.5\",\n    \"vorpal\": \"^1.12.0\",\n    \"winston\": \"^3.0.0-rc2\",\n    \"yargs\": \"^8.0.1\"\n  },\n  \"jspm\": {\n    \"configFile\": \"src/js/config.js\",\n    \"dependencies\": {\n      \"axios\": \"npm:axios@^0.16.1\",\n      \"bootstrap\": \"npm:bootstrap@4.0.0\",\n      \"buffer\": \"github:jspm/nodelibs-buffer@^0.1.1\",\n      \"jquery\": \"npm:jquery@^3.2.1\",\n      \"lodash\": \"npm:lodash@^4.17.4\",\n      \"moment\": \"npm:moment@^2.21.0\",\n      \"navigo\": \"npm:navigo@^4.7.1\",\n      \"rivets\": \"npm:rivets@^0.9.6\",\n      \"socket.io-client\": \"npm:socket.io-client@^2.0.4\",\n      \"velocity\": \"github:julianshapiro/velocity@^2.0.1\"\n    },\n    \"devDependencies\": {\n      \"babel\": \"npm:babel-core@^5.8.24\",\n      \"babel-runtime\": \"npm:babel-runtime@^5.8.24\",\n      \"core-js\": \"npm:core-js@^1.1.4\"\n    }\n  },\n  \"devDependencies\": {\n    \"gulp\": \"^4.0.0\",\n    \"gulp-env\": \"^0.4.0\",\n    \"gulp-nodemon\": \"^2.2.1\",\n    \"gulp-postcss\": \"^7.0.1\",\n    \"gulp-sass\": \"^3.2.0\"\n  }\n}\n",
    "longname": "/Users/harry/Developer/Builds/ugraphics/package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]